{"ast":null,"code":"var _jsxFileName = \"F:\\\\Nutrition-App\\\\nutrition-frontend\\\\src\\\\components\\\\NutritionPieChart.js\";\nimport React from 'react';\nimport { Pie } from 'react-chartjs-2';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\n\n// Register the components Chart.js needs\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(ArcElement, Tooltip, Legend);\n\n// This component calculates and renders the pie chart\nconst NutritionPieChart = ({\n  summaryData\n}) => {\n  // 1. Convert grams to calories\n  // 1g Protein = 4 calories\n  // 1g Carbs = 4 calories\n  // 1g Fat = 9 calories\n  const proteinCalories = (summaryData.total_protein || 0) * 4;\n  const carbsCalories = (summaryData.total_carbs || 0) * 4;\n  const fatCalories = (summaryData.total_fat || 0) * 9;\n\n  // 2. Get total calories from these macros\n  const totalMacroCalories = proteinCalories + carbsCalories + fatCalories;\n\n  // 3. Handle the \"no data\" case\n  if (totalMacroCalories === 0) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: 'center',\n        color: '#6b7280',\n        marginTop: '2rem'\n      },\n      children: \"No data to display chart.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 16\n    }, this);\n  }\n\n  // 4. Prepare data for the pie chart\n  const chartData = {\n    labels: [`Protein (${proteinCalories.toFixed(0)} kcal)`, `Carbs (${carbsCalories.toFixed(0)} kcal)`, `Fat (${fatCalories.toFixed(0)} kcal)`],\n    datasets: [{\n      label: 'Calorie Distribution',\n      // This calculates the percentage for the chart\n      data: [proteinCalories, carbsCalories, fatCalories],\n      backgroundColor: ['rgba(54, 162, 235, 0.8)',\n      // Blue (Protein)\n      'rgba(75, 192, 192, 0.8)',\n      // Green (Carbs)\n      'rgba(255, 206, 86, 0.8)' // Yellow (Fat)\n      ],\n      borderColor: ['rgba(54, 162, 235, 1)', 'rgba(75, 192, 192, 1)', 'rgba(255, 206, 86, 1)'],\n      borderWidth: 1\n    }]\n  };\n  const options = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top'\n      },\n      tooltip: {\n        callbacks: {\n          // This customizes the tooltip\n          label: function (tooltipItem) {\n            const total = tooltipItem.dataset.data.reduce((acc, val) => acc + val, 0);\n            const value = tooltipItem.raw;\n            const percentage = (value / total * 100).toFixed(1);\n            return `${tooltipItem.label.split('(')[0]}: ${percentage}%`;\n          }\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Pie, {\n    data: chartData,\n    options: options\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 12\n  }, this);\n};\n_c = NutritionPieChart;\nexport default NutritionPieChart;\nvar _c;\n$RefreshReg$(_c, \"NutritionPieChart\");","map":{"version":3,"names":["React","Pie","Chart","ChartJS","ArcElement","Tooltip","Legend","jsxDEV","_jsxDEV","register","NutritionPieChart","summaryData","proteinCalories","total_protein","carbsCalories","total_carbs","fatCalories","total_fat","totalMacroCalories","style","textAlign","color","marginTop","children","fileName","_jsxFileName","lineNumber","columnNumber","chartData","labels","toFixed","datasets","label","data","backgroundColor","borderColor","borderWidth","options","responsive","plugins","legend","position","tooltip","callbacks","tooltipItem","total","dataset","reduce","acc","val","value","raw","percentage","split","_c","$RefreshReg$"],"sources":["F:/Nutrition-App/nutrition-frontend/src/components/NutritionPieChart.js"],"sourcesContent":["import React from 'react';\r\nimport { Pie } from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  ArcElement,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\n\r\n// Register the components Chart.js needs\r\nChartJS.register(ArcElement, Tooltip, Legend);\r\n\r\n// This component calculates and renders the pie chart\r\nconst NutritionPieChart = ({ summaryData }) => {\r\n    // 1. Convert grams to calories\r\n    // 1g Protein = 4 calories\r\n    // 1g Carbs = 4 calories\r\n    // 1g Fat = 9 calories\r\n    const proteinCalories = (summaryData.total_protein || 0) * 4;\r\n    const carbsCalories = (summaryData.total_carbs || 0) * 4;\r\n    const fatCalories = (summaryData.total_fat || 0) * 9;\r\n\r\n    // 2. Get total calories from these macros\r\n    const totalMacroCalories = proteinCalories + carbsCalories + fatCalories;\r\n\r\n    // 3. Handle the \"no data\" case\r\n    if (totalMacroCalories === 0) {\r\n        return <p style={{ textAlign: 'center', color: '#6b7280', marginTop: '2rem' }}>No data to display chart.</p>;\r\n    }\r\n\r\n    // 4. Prepare data for the pie chart\r\n    const chartData = {\r\n        labels: [\r\n            `Protein (${proteinCalories.toFixed(0)} kcal)`, \r\n            `Carbs (${carbsCalories.toFixed(0)} kcal)`, \r\n            `Fat (${fatCalories.toFixed(0)} kcal)`\r\n        ],\r\n        datasets: [\r\n            {\r\n                label: 'Calorie Distribution',\r\n                // This calculates the percentage for the chart\r\n                data: [proteinCalories, carbsCalories, fatCalories],\r\n                backgroundColor: [\r\n                    'rgba(54, 162, 235, 0.8)', // Blue (Protein)\r\n                    'rgba(75, 192, 192, 0.8)', // Green (Carbs)\r\n                    'rgba(255, 206, 86, 0.8)', // Yellow (Fat)\r\n                ],\r\n                borderColor: [\r\n                    'rgba(54, 162, 235, 1)',\r\n                    'rgba(75, 192, 192, 1)',\r\n                    'rgba(255, 206, 86, 1)',\r\n                ],\r\n                borderWidth: 1,\r\n            },\r\n        ],\r\n    };\r\n\r\n    const options = {\r\n        responsive: true,\r\n        plugins: {\r\n            legend: {\r\n                position: 'top',\r\n            },\r\n            tooltip: {\r\n                callbacks: {\r\n                    // This customizes the tooltip\r\n                    label: function (tooltipItem) {\r\n                        const total = tooltipItem.dataset.data.reduce((acc, val) => acc + val, 0);\r\n                        const value = tooltipItem.raw;\r\n                        const percentage = ((value / total) * 100).toFixed(1);\r\n                        return `${tooltipItem.label.split('(')[0]}: ${percentage}%`;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n    };\r\n\r\n    return <Pie data={chartData} options={options} />;\r\n};\r\n\r\nexport default NutritionPieChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}